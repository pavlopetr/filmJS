{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SCAAC,EAAAD,EAAA,S,uCCAAE,EAAAF,EAAA,SAEMG,EAAU,CAAEC,QAAS,MAEdC,EAAqB,SAAAC,GAChC,OAAOC,EAAAL,GAASM,OAAOC,QAAQH,EAASH,I,aDK3BO,SAASC,cAAc,gBAC/BC,iBAAiB,UAgBxB,SAAsBC,GAKpB,GAJAA,EAAMC,iBACNf,EAAAgB,WAAWC,KAAO,EAClBjB,EAAAgB,WAAWE,MAAQJ,EAAMK,cAAcC,SAASC,YAAYC,MAAMC,OAEzC,KAArBvB,EAAAgB,WAAWE,MAEb,YADAZ,EAAmB,yDAIrBN,EAAAgB,WACGQ,oBACAC,MAAK,SAAAC,GACJ,GAA4B,IAAxBA,EAAKC,QAAQC,OACf,KAAM,6EAGR,EAAAC,EAAAC,uBAAsBJ,EAAKC,UAC3B,EAAAE,EAAAE,4BAA2BL,EAAKC,SAChC3B,EAAAgC,YAAYC,WAAY,EAAAC,EAAAC,SAAgBT,EAAKC,SAC7CS,EAAgBC,MAAMX,EAAKY,kBAE5BC,OAAM,SAAAC,G,OAASlC,EAAmBkC,SApCvC,IAAMJ,EAAkB,IAAI5B,EAAAN,GAAJ,CAAeF,EAAAyC,oBAAqB,CAC1DC,aAAc,GACdC,aAAc,EACdC,aAAa,EACbC,SAAU,CACRC,YAAa,+CACb7B,KAAM,mCACN8B,WAAa,uDACbC,mBACE,yEACFC,WAAY,0DA6BhBb,EAAgBc,GAAG,aAAa,SAAApC,GAC9Bd,EAAAgB,WAAWC,KAAOH,EAAMG,KAKxBjB,EAAAgB,WACGQ,oBACAC,MAAK,SAAAC,GACJ,GAA4B,IAAxBA,EAAKC,QAAQC,OACf,KAAM,6EAGR,EAAAC,EAAAC,uBAAsBJ,EAAKC,UAC3B,EAAAE,EAAAE,4BAA2BL,EAAKC,SAChC3B,EAAAgC,YAAYC,WAAY,EAAAC,EAAAC,SAAgBT,EAAKC,YAE9CY,OAAM,SAAAC,G,OAASlC,EAAmBkC,S,sBD/DvC7B,SAASwC,QAAS,EAAAnD,EAAAoD,oBAAmB,G","sources":["src/index.js","src/js/inputFilms.js","src/js/alert.js"],"sourcesContent":["import { createRandomMarkup } from './js/randomFilms';\nimport './js/inputFilms';\nimport './js/lightSwitch';\nimport './js/teamLightbox';\nimport './js/youtubeFrame';\n\ndocument.onload = createRandomMarkup(1);\n","import Pagination from 'tui-pagination';\nimport { containerEl, containerPagination } from './randomFilms';\nimport { galleryApi, containerEl } from './randomFilms';\nimport {\n  changeIdOfGenreToName,\n  changeDateInArrayOfResults,\n} from './datesForMarkup';\nimport { createAlertFailure } from './alert';\nimport createFilmCards from '../templates/filmCards.hbs';\n\nconst formEl = document.querySelector('#search-form');\nformEl.addEventListener('submit', onFormSubmit);\n\nconst paginationSerch = new Pagination(containerPagination, {\n  itemsPerPage: 20,\n  visiblePages: 5,\n  centerAlign: true,\n  template: {\n    currentPage: '<a class=\"page-btn is-selected\">{{page}}</a>',\n    page: '<a class=\"page-btn\">{{page}}</a>',\n    moveButton: `<button class=\"move-btn move-btn-{{type}}\"></button>`,\n    disabledMoveButton:\n      '<button class=\"move-btn move-btn-{{type}} disabled\" disabled></button>',\n    moreButton: '<a class=\"page-btn next-is-ellip last-child\">...</a>',\n  },\n});\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  galleryApi.page = 1;\n  galleryApi.query = event.currentTarget.elements.searchQuery.value.trim();\n\n  if (galleryApi.query === '') {\n    createAlertFailure('Sorry, your query is empty, please, make your choice.');\n    return;\n  }\n\n  galleryApi\n    .fetchSearchMovies()\n    .then(data => {\n      if (data.results.length === 0) {\n        throw 'Sorry, there are not movies matching your search query. Please try again.';\n      }\n\n      changeIdOfGenreToName(data.results);\n      changeDateInArrayOfResults(data.results);\n      containerEl.innerHTML = createFilmCards(data.results);\n      paginationSerch.reset(data.total_results);\n    })\n    .catch(error => createAlertFailure(error));\n}\n\npaginationSerch.on('afterMove', event => {\n  galleryApi.page = event.page;\n  searchMovies();\n});\n\nfunction searchMovies() {\n  galleryApi\n    .fetchSearchMovies()\n    .then(data => {\n      if (data.results.length === 0) {\n        throw 'Sorry, there are not movies matching your search query. Please try again.';\n      }\n\n      changeIdOfGenreToName(data.results);\n      changeDateInArrayOfResults(data.results);\n      containerEl.innerHTML = createFilmCards(data.results);\n    })\n    .catch(error => createAlertFailure(error));\n}\n","import Notiflix from 'notiflix';\n\nconst OPTIONS = { timeout: 1500 };\n\nexport const createAlertFailure = message => {\n  return Notiflix.Notify.failure(message, OPTIONS);\n};\n"],"names":["$4QITu","parcelRequire","$1VFfL","$iU1Pc","$a5647522c65b9f65$var$OPTIONS","timeout","$a5647522c65b9f65$export$6684fe98f6062825","message","$parcel$interopDefault","Notify","failure","document","querySelector","addEventListener","event","preventDefault","galleryApi","page","query","currentTarget","elements","searchQuery","value","trim","fetchSearchMovies","then","data","results","length","$7xXoG","changeIdOfGenreToName","changeDateInArrayOfResults","containerEl","innerHTML","$iklnC","default","$e3da4d00ddfbb2ef$var$paginationSerch","reset","total_results","catch","error","containerPagination","itemsPerPage","visiblePages","centerAlign","template","currentPage","moveButton","disabledMoveButton","moreButton","on","onload","createRandomMarkup"],"version":3,"file":"index.f7a63d05.js.map"}